{% extends('ensemble01filemakerBundle::pageBaseFilemaker.html.twig') %}
{% block body %}
	<div class="container">
		{% if rapportsall is iterable %}
		<h3 class="well well-xs">Liste complète des rapports<br /><small>{{ rapportsall|length }} résultat(s)</small></h3>
		<table class="table table-bordered table-hover table-condensed">
			<tr class="active">
				<th>Actions</th>
				<th>Id</th>
				<th>Référence</th>
			</tr>
			{% for key,rapp in rapportsall %}
			<tr>
				<td>
					{% for rapport in ['RDM-DAPP', 'DAPP'] %}
					<div class="btn-group">
						<a href="{{ url('ensemble01filemaker_generateRapport', {id: rapp.id}) }}" type="button" class="btn btn-default btn-xs URLext">Générer {{ rapport }}</a>
						<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
							<span class="caret"></span>
							<span class="sr-only">Toggle Dropdown</span>
						</button>
						<ul class="dropdown-menu dropdown-menu-right btn-xs" role="menu">
							<li><a class="URLext" href="{{ url('ensemble01filemaker_generateRapport', {mode: 'export', format: 'pdf', type: rapport, id: rapp.id}) }}">Export PDF</a></li>
							<li><a class="URLext" href="{{ url('ensemble01filemaker_generateRapport', {mode: 'view', format: 'pdf', type: rapport, id: rapp.id}) }}">Visualiser PDF</a></li>
							<li class="divider"></li>
							<li><a class="URLext" href="{{ url('ensemble01filemaker_generateRapport', {mode: 'export', format: 'html', type: rapport, id: rapp.id}) }}">Export HTML</a></li>
							<li><a class="URLext" href="{{ url('ensemble01filemaker_generateRapport', {mode: 'view', format: 'html', type: rapport, id: rapp.id}) }}">Visualiser HTML</a></li>
						</ul>
					</div>
					{% endfor %}
				</td>
				<td>{{ rapp.id }}</td>
				<td>{{ rapp.ref }}</td>
			</tr>
			{%- endfor %}
		</table>
		{% else %}
		<h3 class="well well-xs">Liste des rapports<br /><small>Erreur</small></h3>
		<div class="alert alert-danger" role="alert">{{ rapportsall|raw }}</div>
		{% endif %}
	</div>
{% endblock body %}